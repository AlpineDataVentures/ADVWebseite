---
import ImageMod from "@/components/ImageMod.astro";
import Base from "@/layouts/Base.astro";
import PageHeader from "@/partials/PageHeader.astro";
import { getEntry } from "astro:content";
import TextBlock from "@/partials/TextBlock.astro";
import DoubleTextBlock from "@/partials/DoubleTextBlock.astro";
import ContactForm from "@/partials/ContactForm.astro";
import CoreValues from "@/partials/CoreValues.astro";
import type { CollectionEntry } from "astro:content";

const { contact_form_action } = Astro.props;

const about = (await getEntry("about", "-index")) as CollectionEntry<"about">;

const { title, description, meta_title, image } = about.data;
---

<Base
  title={title}
  meta_title={meta_title}
  image={image}
  description={description}
>
  <PageHeader title={title} />

  <!-- Vision & Mission -->
  <DoubleTextBlock double_text_block={about.data.vision_method} />

  <!-- Hero's Image -->
  <section class="mb-16">
    <div class="container">
      <div class="row justify-center">
        <ImageMod
          src={image}
          height={1152}
          width={2048}
          alt="Das Team"
          format="webp"
        />
      </div>
    </div>
  </section>

  <!-- CoreValues -->
  <CoreValues core_values={about.data.corevalues} />

  <!-- Collaboration -->
  <TextBlock text_block={about.data.collaboration} />

  <!-- contact form -->
  <section class="section-sm">
    <div class="container">
      <div class="row">
        <div class="mx-auto md:col-10 lg:col-6">
          <ContactForm contact_form_action={contact_form_action} />
        </div>
      </div>
    </div>
  </section>
  <!-- /contact form -->
</Base>
